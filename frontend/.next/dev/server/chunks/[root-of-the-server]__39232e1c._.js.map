{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport https from 'https'\n\nexport async function createClient() {\n  // Check environment variables first\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseKey) {\n    throw new Error('Supabase environment variables not configured. Please check NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in .env.local');\n  }\n\n  try {\n    const cookieStore = await cookies();\n\n    // Create a custom fetch that handles SSL properly\n    // The Supabase client will use this for all requests\n    const customFetch = (url: string, options: RequestInit = {}) => {\n      // For Node.js environments, we need to ensure SSL certificates are verified\n      // The @supabase/ssr client should handle this, but we can add extra configuration\n      return fetch(url, {\n        ...options,\n        // Node.js fetch (18+) should handle SSL automatically\n        // If issues persist, we can add agent configuration here\n      });\n    };\n\n    return createServerClient(\n      supabaseUrl,\n      supabaseKey,\n      {\n        cookies: {\n          getAll() {\n            return cookieStore.getAll()\n          },\n          setAll(cookiesToSet) {\n            try {\n              cookiesToSet.forEach(({ name, value, options }) =>\n                cookieStore.set(name, value, options)\n              )\n            } catch {\n              // The `setAll` method was called from a Server Component.\n              // This can be ignored if you have middleware refreshing\n              // user sessions.\n            }\n          },\n        },\n        // Note: @supabase/ssr handles fetch internally, but we can configure it\n        // if needed. The SSL issue is typically resolved by ensuring Node.js\n        // has access to system certificates.\n      }\n    );\n  } catch (error) {\n    console.error('Error creating Supabase server client:', error);\n    throw error;\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,oCAAoC;IACpC,MAAM;IACN,MAAM;IAEN;;IAIA,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,4IAAO;QAEjC,kDAAkD;QAClD,qDAAqD;QACrD,MAAM,cAAc,CAAC,KAAa,UAAuB,CAAC,CAAC;YACzD,4EAA4E;YAC5E,kFAAkF;YAClF,OAAO,MAAM,KAAK;gBAChB,GAAG,OAAO;YAGZ;QACF;QAEA,OAAO,IAAA,iMAAkB,EACvB,aACA,aACA;YACE,SAAS;gBACP;oBACE,OAAO,YAAY,MAAM;gBAC3B;gBACA,QAAO,YAAY;oBACjB,IAAI;wBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;oBAEjC,EAAE,OAAM;oBACN,0DAA0D;oBAC1D,wDAAwD;oBACxD,iBAAiB;oBACnB;gBACF;YACF;QAIF;IAEJ,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0CAA0C;QACxD,MAAM;IACR;AACF"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/app/api/ad-spaces/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { createClient } from '@/lib/supabase/server';\n\n/**\n * Next.js API route to fetch ad spaces\n * GET /api/ad-spaces?city=Mumbai&categoryId=xxx&limit=10\n */\nexport async function GET(request: NextRequest) {\n  try {\n    let supabase;\n    try {\n      supabase = await createClient();\n    } catch (clientError) {\n      console.error('❌ Failed to create Supabase client:', clientError);\n      // Return error but don't crash - let frontend fallback handle it\n      return NextResponse.json({\n        success: false,\n        error: 'Failed to connect to database',\n        message: 'Please check your Supabase configuration. Frontend will try direct connection.',\n        fallback: true\n      }, { status: 500 });\n    }\n    \n    const searchParams = request.nextUrl.searchParams;\n    const city = searchParams.get('city');\n    const categoryId = searchParams.get('categoryId');\n    const publisherId = searchParams.get('publisherId');\n    const displayType = searchParams.get('displayType');\n    const minPrice = searchParams.get('minPrice');\n    const maxPrice = searchParams.get('maxPrice');\n    const minFootfall = searchParams.get('minFootfall');\n    const maxFootfall = searchParams.get('maxFootfall');\n    const searchQuery = searchParams.get('searchQuery');\n    const limit = parseInt(searchParams.get('limit') || '100');\n    const availabilityStatus = searchParams.get('availabilityStatus') || 'available';\n\n    // Build query\n    let query = supabase\n      .from('ad_spaces')\n      .select(`\n        *,\n        category:categories(id, name, icon_url, description),\n        location:locations(id, city, state, country, address, latitude, longitude),\n        publisher:publishers(id, name, description, verification_status)\n      `);\n\n    // Apply filters\n    if (categoryId) {\n      query = query.eq('category_id', categoryId);\n    }\n\n    if (publisherId) {\n      if (publisherId.includes(',')) {\n        query = query.in('publisher_id', publisherId.split(','));\n      } else {\n        query = query.eq('publisher_id', publisherId);\n      }\n    }\n\n    if (displayType) {\n      query = query.eq('display_type', displayType);\n    }\n\n    if (minPrice) {\n      query = query.gte('price_per_day', parseFloat(minPrice));\n    }\n\n    if (maxPrice) {\n      query = query.lte('price_per_day', parseFloat(maxPrice));\n    }\n\n    if (minFootfall) {\n      query = query.gte('daily_impressions', parseInt(minFootfall));\n    }\n\n    if (maxFootfall) {\n      query = query.lte('daily_impressions', parseInt(maxFootfall));\n    }\n\n    if (searchQuery) {\n      query = query.or(`title.ilike.%${searchQuery}%,description.ilike.%${searchQuery}%`);\n    }\n\n    if (availabilityStatus) {\n      query = query.eq('availability_status', availabilityStatus);\n    }\n\n    query = query.limit(limit).order('created_at', { ascending: false });\n\n    let data, error;\n    try {\n      const result = await query;\n      data = result.data;\n      error = result.error;\n    } catch (fetchError) {\n      // Handle fetch/network errors (like SSL certificate issues)\n      console.error('❌ Supabase fetch error (likely SSL/network issue):', fetchError);\n      return NextResponse.json({\n        success: false,\n        error: 'Failed to fetch ad spaces',\n        message: fetchError instanceof Error ? fetchError.message : String(fetchError),\n        fallback: true, // Signal frontend to use direct service\n        details: 'Server-side connection failed. Frontend will use direct browser connection.'\n      }, { status: 500 });\n    }\n\n    if (error) {\n      console.error('❌ Supabase query error:', error);\n      return NextResponse.json({\n        success: false,\n        error: 'Database query failed',\n        details: error.message\n      }, { status: 500 });\n    }\n\n    // Transform data\n    let spaces = (data || []).map((space: any) => {\n      // Parse JSON fields if they're strings\n      let images = space.images;\n      if (typeof images === 'string') {\n        try {\n          images = JSON.parse(images);\n        } catch {\n          images = [];\n        }\n      }\n      if (!Array.isArray(images)) {\n        images = [];\n      }\n\n      let dimensions = space.dimensions;\n      if (typeof dimensions === 'string') {\n        try {\n          dimensions = JSON.parse(dimensions);\n        } catch {\n          dimensions = {};\n        }\n      }\n      if (!dimensions || typeof dimensions !== 'object') {\n        dimensions = {};\n      }\n\n      return {\n        ...space,\n        images,\n        dimensions,\n        route: space.route || null,\n      };\n    });\n\n    // Apply city filter after fetching (since it's a relationship)\n    if (city) {\n      spaces = spaces.filter((space: any) => space.location?.city === city);\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: spaces,\n      count: spaces.length\n    });\n\n  } catch (error) {\n    console.error('API error:', error);\n    return NextResponse.json({\n      success: false,\n      error: 'Internal server error',\n      message: error instanceof Error ? error.message : String(error)\n    }, { status: 500 });\n  }\n}\n\n/**\n * Create a new ad space\n * POST /api/ad-spaces\n * Body: {\n *   title: string,\n *   description: string,\n *   categoryId: string (UUID),\n *   locationId?: string (UUID),\n *   publisherId?: string (UUID),\n *   displayType: string,\n *   pricePerDay: number,\n *   pricePerMonth: number,\n *   dailyImpressions?: number,\n *   monthlyFootfall?: number,\n *   latitude: number,\n *   longitude: number,\n *   images?: string[],\n *   dimensions?: object,\n *   availabilityStatus?: 'available' | 'booked' | 'unavailable'\n * }\n */\nexport async function POST(request: NextRequest) {\n  try {\n    let supabase;\n    try {\n      supabase = await createClient();\n    } catch (clientError) {\n      console.error('❌ Failed to create Supabase client:', clientError);\n      return NextResponse.json({\n        success: false,\n        error: 'Failed to connect to database',\n        message: 'Please check your Supabase configuration.',\n        fallback: true\n      }, { status: 500 });\n    }\n\n    const body = await request.json();\n    const {\n      title,\n      description,\n      categoryId,\n      locationId,\n      publisherId,\n      displayType,\n      pricePerDay,\n      pricePerMonth,\n      dailyImpressions = 0,\n      monthlyFootfall = 0,\n      latitude,\n      longitude,\n      images = [],\n      dimensions = {},\n      availabilityStatus = 'available',\n      targetAudience\n    } = body;\n\n    // Validation\n    if (!title || !description) {\n      return NextResponse.json({\n        success: false,\n        error: 'Title and description are required'\n      }, { status: 400 });\n    }\n\n    if (!categoryId) {\n      return NextResponse.json({\n        success: false,\n        error: 'Category ID is required'\n      }, { status: 400 });\n    }\n\n    if (!displayType) {\n      return NextResponse.json({\n        success: false,\n        error: 'Display type is required'\n      }, { status: 400 });\n    }\n\n    if (pricePerDay === undefined || pricePerDay === null) {\n      return NextResponse.json({\n        success: false,\n        error: 'Price per day is required'\n      }, { status: 400 });\n    }\n\n    if (pricePerMonth === undefined || pricePerMonth === null) {\n      return NextResponse.json({\n        success: false,\n        error: 'Price per month is required'\n      }, { status: 400 });\n    }\n\n    if (latitude === undefined || longitude === undefined) {\n      return NextResponse.json({\n        success: false,\n        error: 'Latitude and longitude are required'\n      }, { status: 400 });\n    }\n\n    // Verify category exists\n    const { data: category, error: categoryError } = await supabase\n      .from('categories')\n      .select('id, name')\n      .eq('id', categoryId)\n      .single();\n\n    if (categoryError || !category) {\n      return NextResponse.json({\n        success: false,\n        error: 'Invalid category ID',\n        details: categoryError?.message\n      }, { status: 400 });\n    }\n\n    // Prepare data for insertion\n    const adSpaceData: any = {\n      title: title.trim(),\n      description: description.trim(),\n      category_id: categoryId,\n      display_type: displayType,\n      price_per_day: parseFloat(pricePerDay),\n      price_per_month: parseFloat(pricePerMonth),\n      daily_impressions: parseInt(dailyImpressions) || 0,\n      monthly_footfall: parseInt(monthlyFootfall) || 0,\n      latitude: parseFloat(latitude),\n      longitude: parseFloat(longitude),\n      availability_status: availabilityStatus,\n      images: Array.isArray(images) ? images : [],\n      dimensions: typeof dimensions === 'object' ? dimensions : {}\n    };\n\n    // Optional fields\n    if (locationId) {\n      adSpaceData.location_id = locationId;\n    }\n\n    if (publisherId) {\n      adSpaceData.publisher_id = publisherId;\n    }\n\n    if (targetAudience) {\n      adSpaceData.target_audience = targetAudience;\n    }\n\n    // Insert ad space\n    const { data: newAdSpace, error: insertError } = await supabase\n      .from('ad_spaces')\n      .insert(adSpaceData)\n      .select(`\n        *,\n        category:categories(id, name, icon_url, description),\n        location:locations(id, city, state, country, address, latitude, longitude),\n        publisher:publishers(id, name, description, verification_status)\n      `)\n      .single();\n\n    if (insertError) {\n      console.error('❌ Error creating ad space:', insertError);\n      return NextResponse.json({\n        success: false,\n        error: 'Failed to create ad space',\n        details: insertError.message\n      }, { status: 500 });\n    }\n\n    // Parse JSON fields\n    let parsedImages = newAdSpace.images;\n    if (typeof parsedImages === 'string') {\n      try {\n        parsedImages = JSON.parse(parsedImages);\n      } catch {\n        parsedImages = [];\n      }\n    }\n    if (!Array.isArray(parsedImages)) {\n      parsedImages = [];\n    }\n\n    let parsedDimensions = newAdSpace.dimensions;\n    if (typeof parsedDimensions === 'string') {\n      try {\n        parsedDimensions = JSON.parse(parsedDimensions);\n      } catch {\n        parsedDimensions = {};\n      }\n    }\n    if (!parsedDimensions || typeof parsedDimensions !== 'object') {\n      parsedDimensions = {};\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        ...newAdSpace,\n        images: parsedImages,\n        dimensions: parsedDimensions\n      },\n      message: 'Ad space created successfully'\n    }, { status: 201 });\n\n  } catch (error) {\n    console.error('API error:', error);\n    return NextResponse.json({\n      success: false,\n      error: 'Internal server error',\n      message: error instanceof Error ? error.message : String(error)\n    }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAMO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,IAAI;QACJ,IAAI;YACF,WAAW,MAAM,IAAA,2IAAY;QAC/B,EAAE,OAAO,aAAa;YACpB,QAAQ,KAAK,CAAC,uCAAuC;YACrD,iEAAiE;YACjE,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;gBACP,SAAS;gBACT,UAAU;YACZ,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;QACjD,MAAM,OAAO,aAAa,GAAG,CAAC;QAC9B,MAAM,aAAa,aAAa,GAAG,CAAC;QACpC,MAAM,cAAc,aAAa,GAAG,CAAC;QACrC,MAAM,cAAc,aAAa,GAAG,CAAC;QACrC,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,cAAc,aAAa,GAAG,CAAC;QACrC,MAAM,cAAc,aAAa,GAAG,CAAC;QACrC,MAAM,cAAc,aAAa,GAAG,CAAC;QACrC,MAAM,QAAQ,SAAS,aAAa,GAAG,CAAC,YAAY;QACpD,MAAM,qBAAqB,aAAa,GAAG,CAAC,yBAAyB;QAErE,cAAc;QACd,IAAI,QAAQ,SACT,IAAI,CAAC,aACL,MAAM,CAAC,CAAC;;;;;MAKT,CAAC;QAEH,gBAAgB;QAChB,IAAI,YAAY;YACd,QAAQ,MAAM,EAAE,CAAC,eAAe;QAClC;QAEA,IAAI,aAAa;YACf,IAAI,YAAY,QAAQ,CAAC,MAAM;gBAC7B,QAAQ,MAAM,EAAE,CAAC,gBAAgB,YAAY,KAAK,CAAC;YACrD,OAAO;gBACL,QAAQ,MAAM,EAAE,CAAC,gBAAgB;YACnC;QACF;QAEA,IAAI,aAAa;YACf,QAAQ,MAAM,EAAE,CAAC,gBAAgB;QACnC;QAEA,IAAI,UAAU;YACZ,QAAQ,MAAM,GAAG,CAAC,iBAAiB,WAAW;QAChD;QAEA,IAAI,UAAU;YACZ,QAAQ,MAAM,GAAG,CAAC,iBAAiB,WAAW;QAChD;QAEA,IAAI,aAAa;YACf,QAAQ,MAAM,GAAG,CAAC,qBAAqB,SAAS;QAClD;QAEA,IAAI,aAAa;YACf,QAAQ,MAAM,GAAG,CAAC,qBAAqB,SAAS;QAClD;QAEA,IAAI,aAAa;YACf,QAAQ,MAAM,EAAE,CAAC,CAAC,aAAa,EAAE,YAAY,qBAAqB,EAAE,YAAY,CAAC,CAAC;QACpF;QAEA,wCAAwB;YACtB,QAAQ,MAAM,EAAE,CAAC,uBAAuB;QAC1C;QAEA,QAAQ,MAAM,KAAK,CAAC,OAAO,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAElE,IAAI,MAAM;QACV,IAAI;YACF,MAAM,SAAS,MAAM;YACrB,OAAO,OAAO,IAAI;YAClB,QAAQ,OAAO,KAAK;QACtB,EAAE,OAAO,YAAY;YACnB,4DAA4D;YAC5D,QAAQ,KAAK,CAAC,sDAAsD;YACpE,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;gBACP,SAAS,sBAAsB,QAAQ,WAAW,OAAO,GAAG,OAAO;gBACnE,UAAU;gBACV,SAAS;YACX,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;gBACP,SAAS,MAAM,OAAO;YACxB,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,iBAAiB;QACjB,IAAI,SAAS,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC;YAC7B,uCAAuC;YACvC,IAAI,SAAS,MAAM,MAAM;YACzB,IAAI,OAAO,WAAW,UAAU;gBAC9B,IAAI;oBACF,SAAS,KAAK,KAAK,CAAC;gBACtB,EAAE,OAAM;oBACN,SAAS,EAAE;gBACb;YACF;YACA,IAAI,CAAC,MAAM,OAAO,CAAC,SAAS;gBAC1B,SAAS,EAAE;YACb;YAEA,IAAI,aAAa,MAAM,UAAU;YACjC,IAAI,OAAO,eAAe,UAAU;gBAClC,IAAI;oBACF,aAAa,KAAK,KAAK,CAAC;gBAC1B,EAAE,OAAM;oBACN,aAAa,CAAC;gBAChB;YACF;YACA,IAAI,CAAC,cAAc,OAAO,eAAe,UAAU;gBACjD,aAAa,CAAC;YAChB;YAEA,OAAO;gBACL,GAAG,KAAK;gBACR;gBACA;gBACA,OAAO,MAAM,KAAK,IAAI;YACxB;QACF;QAEA,+DAA+D;QAC/D,IAAI,MAAM;YACR,SAAS,OAAO,MAAM,CAAC,CAAC,QAAe,MAAM,QAAQ,EAAE,SAAS;QAClE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;YACN,OAAO,OAAO,MAAM;QACtB;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC3D,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF;AAuBO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,IAAI;QACJ,IAAI;YACF,WAAW,MAAM,IAAA,2IAAY;QAC/B,EAAE,OAAO,aAAa;YACpB,QAAQ,KAAK,CAAC,uCAAuC;YACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;gBACP,SAAS;gBACT,UAAU;YACZ,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EACJ,KAAK,EACL,WAAW,EACX,UAAU,EACV,UAAU,EACV,WAAW,EACX,WAAW,EACX,WAAW,EACX,aAAa,EACb,mBAAmB,CAAC,EACpB,kBAAkB,CAAC,EACnB,QAAQ,EACR,SAAS,EACT,SAAS,EAAE,EACX,aAAa,CAAC,CAAC,EACf,qBAAqB,WAAW,EAChC,cAAc,EACf,GAAG;QAEJ,aAAa;QACb,IAAI,CAAC,SAAS,CAAC,aAAa;YAC1B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,CAAC,YAAY;YACf,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,CAAC,aAAa;YAChB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,gBAAgB,aAAa,gBAAgB,MAAM;YACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,kBAAkB,aAAa,kBAAkB,MAAM;YACzD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,aAAa,aAAa,cAAc,WAAW;YACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,yBAAyB;QACzB,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,SACpD,IAAI,CAAC,cACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM,YACT,MAAM;QAET,IAAI,iBAAiB,CAAC,UAAU;YAC9B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;gBACP,SAAS,eAAe;YAC1B,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,6BAA6B;QAC7B,MAAM,cAAmB;YACvB,OAAO,MAAM,IAAI;YACjB,aAAa,YAAY,IAAI;YAC7B,aAAa;YACb,cAAc;YACd,eAAe,WAAW;YAC1B,iBAAiB,WAAW;YAC5B,mBAAmB,SAAS,qBAAqB;YACjD,kBAAkB,SAAS,oBAAoB;YAC/C,UAAU,WAAW;YACrB,WAAW,WAAW;YACtB,qBAAqB;YACrB,QAAQ,MAAM,OAAO,CAAC,UAAU,SAAS,EAAE;YAC3C,YAAY,OAAO,eAAe,WAAW,aAAa,CAAC;QAC7D;QAEA,kBAAkB;QAClB,IAAI,YAAY;YACd,YAAY,WAAW,GAAG;QAC5B;QAEA,IAAI,aAAa;YACf,YAAY,YAAY,GAAG;QAC7B;QAEA,IAAI,gBAAgB;YAClB,YAAY,eAAe,GAAG;QAChC;QAEA,kBAAkB;QAClB,MAAM,EAAE,MAAM,UAAU,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SACpD,IAAI,CAAC,aACL,MAAM,CAAC,aACP,MAAM,CAAC,CAAC;;;;;MAKT,CAAC,EACA,MAAM;QAET,IAAI,aAAa;YACf,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;gBACP,SAAS,YAAY,OAAO;YAC9B,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,oBAAoB;QACpB,IAAI,eAAe,WAAW,MAAM;QACpC,IAAI,OAAO,iBAAiB,UAAU;YACpC,IAAI;gBACF,eAAe,KAAK,KAAK,CAAC;YAC5B,EAAE,OAAM;gBACN,eAAe,EAAE;YACnB;QACF;QACA,IAAI,CAAC,MAAM,OAAO,CAAC,eAAe;YAChC,eAAe,EAAE;QACnB;QAEA,IAAI,mBAAmB,WAAW,UAAU;QAC5C,IAAI,OAAO,qBAAqB,UAAU;YACxC,IAAI;gBACF,mBAAmB,KAAK,KAAK,CAAC;YAChC,EAAE,OAAM;gBACN,mBAAmB,CAAC;YACtB;QACF;QACA,IAAI,CAAC,oBAAoB,OAAO,qBAAqB,UAAU;YAC7D,mBAAmB,CAAC;QACtB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBACJ,GAAG,UAAU;gBACb,QAAQ;gBACR,YAAY;YACd;YACA,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IAEnB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC3D,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}