{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/components/common/AdSpaceCard.tsx"],"sourcesContent":["'use client';\n\nimport { MapPin, CheckCircle, Eye, Users } from 'lucide-react';\nimport { AdSpace } from '@/types';\nimport Link from 'next/link';\n\ninterface AdSpaceCardProps {\n  adSpace: AdSpace;\n  variant?: 'default' | 'compact';\n}\n\nexport default function AdSpaceCard({ adSpace, variant = 'default' }: AdSpaceCardProps) {\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const formatMetric = (value: number) => {\n    if (value >= 1000) {\n      return `${(value / 1000).toFixed(0)}K+`;\n    }\n    return value;\n  };\n\n  if (variant === 'compact') {\n    return (\n      <div className=\"bg-white rounded-lg overflow-hidden border border-gray-200 hover:border-[#E91E63] hover:shadow-md transition-all cursor-pointer\">\n        <div className=\"flex gap-3 p-3\">\n          <div className=\"w-24 h-24 bg-gray-200 rounded-lg flex-shrink-0 overflow-hidden\">\n            {adSpace.images && adSpace.images.length > 0 ? (\n              <img\n                src={adSpace.images[0]}\n                alt={adSpace.title}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center bg-gray-100\">\n                <span className=\"text-gray-400 text-xs\">No Image</span>\n              </div>\n            )}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"font-semibold text-sm text-gray-900 mb-1 line-clamp-1\">\n              {adSpace.title}\n            </h3>\n            <div className=\"flex items-center gap-1 text-xs text-gray-600 mb-2\">\n              <MapPin className=\"w-3 h-3 text-[#E91E63]\" />\n              <span className=\"line-clamp-1\">{adSpace.location?.address || adSpace.location?.city}</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-base font-bold text-[#E91E63]\">\n                {formatPrice(adSpace.price_per_day)}<span className=\"text-xs text-gray-600 font-normal\">/day</span>\n              </span>\n              {adSpace.availability_status === 'available' && (\n                <span className=\"text-[10px] text-[#4CAF50] font-medium\">Available</span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const getSearchUrl = () => {\n    const params = new URLSearchParams();\n    params.set('adSpaceId', adSpace.id);\n    \n    if (typeof window !== 'undefined') {\n      const urlParams = new URLSearchParams(window.location.search);\n      let startDate = urlParams.get('startDate');\n      let endDate = urlParams.get('endDate');\n      \n      if (!startDate || !endDate) {\n        const storedStartDate = sessionStorage.getItem('campaignStartDate');\n        const storedEndDate = sessionStorage.getItem('campaignEndDate');\n        if (storedStartDate) startDate = storedStartDate;\n        if (storedEndDate) endDate = storedEndDate;\n      }\n      \n      if (startDate) params.set('startDate', startDate);\n      if (endDate) params.set('endDate', endDate);\n    }\n    return `/search?${params.toString()}`;\n  };\n\n  return (\n    <Link href={getSearchUrl()} className=\"block\">\n      <div className=\"bg-white rounded-xl overflow-hidden border border-gray-200 hover:border-[#E91E63] hover:shadow-lg transition-all cursor-pointer group\">\n        <div className=\"relative h-48 bg-gray-200 overflow-hidden\">\n          {adSpace.images && adSpace.images.length > 0 ? (\n            <img\n              src={adSpace.images[0]}\n              alt={adSpace.title}\n              className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n            />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center bg-gray-100\">\n              <span className=\"text-gray-400 text-sm\">No Image</span>\n            </div>\n          )}\n          {adSpace.availability_status === 'available' && (\n            <div className=\"absolute top-3 right-3 bg-[#4CAF50] text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 text-xs font-medium shadow-md\">\n              <CheckCircle className=\"w-3.5 h-3.5\" />\n              Available\n            </div>\n          )}\n          {adSpace.category && (\n            <div className=\"absolute top-3 left-3 bg-white/95 backdrop-blur-sm text-gray-900 px-3 py-1.5 rounded-lg text-xs font-medium shadow-md\">\n              {adSpace.category.name}\n            </div>\n          )}\n        </div>\n        \n        <div className=\"p-4\">\n          <h3 className=\"font-bold text-base text-gray-900 mb-2 line-clamp-2 leading-tight group-hover:text-[#E91E63] transition-colors\">\n            {adSpace.title}\n          </h3>\n          \n          <div className=\"flex items-start gap-1.5 text-sm text-gray-600 mb-3\">\n            <MapPin className=\"w-4 h-4 text-[#E91E63] mt-0.5 flex-shrink-0\" />\n            <span className=\"line-clamp-1\">\n              {adSpace.location?.address || adSpace.location?.city || 'Location not specified'}\n            </span>\n          </div>\n\n          <div className=\"flex items-center gap-4 mb-3 text-xs text-gray-600\">\n            <div className=\"flex items-center gap-1\">\n              <Eye className=\"w-3.5 h-3.5\" />\n              <span>{formatMetric(adSpace.daily_impressions)}</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <Users className=\"w-3.5 h-3.5\" />\n              <span>{formatMetric(adSpace.monthly_footfall)}</span>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center justify-between pt-3 border-t border-gray-100\">\n            <div>\n              <div className=\"text-xs text-gray-500 mb-0.5\">Starting from</div>\n              <div className=\"text-xl font-bold text-[#E91E63]\">\n                {formatPrice(adSpace.price_per_day)}\n                <span className=\"text-sm text-gray-600 font-normal\">/day</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseKey) {\n    console.error('‚ùå Supabase environment variables not configured!');\n    throw new Error('Supabase environment variables are missing. Please check .env.local file.');\n  }\n\n  try {\n    return createBrowserClient(supabaseUrl, supabaseKey);\n  } catch (error) {\n    console.error('‚ùå Failed to create Supabase client:', error);\n    throw error;\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,MAAM;IACN,MAAM;IAEN;;IAKA,IAAI;QACF,OAAO,IAAA,iMAAmB,EAAC,aAAa;IAC1C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,MAAM;IACR;AACF"}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/adSpaces.ts"],"sourcesContent":["import { createClient } from '../client';\nimport { AdSpace } from '@/types';\n\nexport interface AdSpaceFilters {\n  city?: string;\n  categoryId?: string;\n  publisherId?: string | string[];\n  displayType?: string;\n  minPrice?: number;\n  maxPrice?: number;\n  minFootfall?: number;\n  maxFootfall?: number;\n  searchQuery?: string;\n  availabilityStatus?: string;\n}\n\n/**\n * Fetch all ad spaces with optional filters\n */\nexport async function getAdSpaces(filters?: AdSpaceFilters): Promise<AdSpace[]> {\n  try {\n    const supabase = createClient();\n    \n    // Check if Supabase is configured (client-side check)\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n    const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n    \n    if (!supabaseUrl || !supabaseKey) {\n      console.error('‚ùå Supabase environment variables not configured!');\n      console.error('NEXT_PUBLIC_SUPABASE_URL:', supabaseUrl ? 'Set' : 'Missing');\n      console.error('NEXT_PUBLIC_SUPABASE_ANON_KEY:', supabaseKey ? 'Set' : 'Missing');\n      throw new Error('Supabase environment variables are missing');\n    }\n  \n    let query = supabase\n      .from('ad_spaces')\n      .select(`\n        *,\n        category:categories(id, name, icon_url, description),\n        location:locations(id, city, state, country, address, latitude, longitude),\n        publisher:publishers(id, name, description, verification_status)\n      `);\n\n    // Apply filters\n    // Note: City filter needs to be applied via location relationship\n    // We'll filter after fetching if city is specified\n    let cityFilter = filters?.city;\n\n    if (filters?.categoryId) {\n      query = query.eq('category_id', filters.categoryId);\n    }\n\n    if (filters?.publisherId) {\n      // Support both single publisher ID and array\n      if (Array.isArray(filters.publisherId)) {\n        query = query.in('publisher_id', filters.publisherId);\n      } else {\n        query = query.eq('publisher_id', filters.publisherId);\n      }\n    }\n\n    if (filters?.displayType) {\n      query = query.eq('display_type', filters.displayType);\n    }\n\n    if (filters?.minPrice !== undefined) {\n      query = query.gte('price_per_day', filters.minPrice);\n    }\n\n    if (filters?.maxPrice !== undefined) {\n      query = query.lte('price_per_day', filters.maxPrice);\n    }\n\n    if (filters?.minFootfall !== undefined) {\n      query = query.gte('daily_impressions', filters.minFootfall);\n    }\n\n    if (filters?.maxFootfall !== undefined) {\n      query = query.lte('daily_impressions', filters.maxFootfall);\n    }\n\n    if (filters?.searchQuery) {\n      query = query.or(`title.ilike.%${filters.searchQuery}%,description.ilike.%${filters.searchQuery}%`);\n    }\n\n    if (filters?.availabilityStatus) {\n      query = query.eq('availability_status', filters.availabilityStatus);\n    } else {\n      // Default to available only\n      query = query.eq('availability_status', 'available');\n    }\n\n    const { data, error } = await query.order('created_at', { ascending: false });\n\n    if (error) {\n      console.error('‚ùå Supabase query error:', error);\n      console.error('Error details:', {\n        message: error.message,\n        details: error.details,\n        hint: error.hint,\n        code: error.code\n      });\n      throw error;\n    }\n\n    console.log('üìä Raw data from Supabase:', data?.length || 0, 'records');\n    if (data && data.length > 0) {\n      console.log('üìã Sample record:', JSON.stringify(data[0], null, 2));\n    }\n\n    // Transform data to match AdSpace type\n    let spaces = (data || []).map((space: any) => {\n      // Ensure location object exists\n      if (!space.location) {\n        console.warn('‚ö†Ô∏è Ad space missing location:', space.id, space.title);\n      }\n      \n      // Parse JSON fields if they're strings\n      let images = space.images;\n      if (typeof images === 'string') {\n        try {\n          images = JSON.parse(images);\n        } catch (e) {\n          console.warn('Failed to parse images JSON:', e);\n          images = [];\n        }\n      }\n      if (!Array.isArray(images)) {\n        images = [];\n      }\n      \n      let dimensions = space.dimensions;\n      if (typeof dimensions === 'string') {\n        try {\n          dimensions = JSON.parse(dimensions);\n        } catch (e) {\n          console.warn('Failed to parse dimensions JSON:', e);\n          dimensions = {};\n        }\n      }\n      if (!dimensions || typeof dimensions !== 'object') {\n        dimensions = {};\n      }\n      \n      return {\n        ...space,\n        images,\n        dimensions,\n        route: space.route || null,\n      };\n    }) as AdSpace[];\n\n    console.log('üîÑ Transformed spaces:', spaces.length);\n\n    // Apply city filter after fetching (since it's a relationship)\n    if (cityFilter) {\n      const beforeFilter = spaces.length;\n      spaces = spaces.filter(space => {\n        const matches = space.location?.city === cityFilter;\n        if (!matches && space.location) {\n          console.log(`üö´ Filtered out: ${space.title} (${space.location.city} !== ${cityFilter})`);\n        }\n        return matches;\n      });\n      console.log(`üìç City filter \"${cityFilter}\": ${beforeFilter} ‚Üí ${spaces.length} spaces`);\n    }\n\n    console.log('‚úÖ Returning', spaces.length, 'ad spaces');\n    return spaces;\n  } catch (error) {\n    console.error('‚ùå Error in getAdSpaces:', error);\n    if (error instanceof Error) {\n      console.error('Error message:', error.message);\n      console.error('Error stack:', error.stack);\n    }\n    // Check if it's a network error\n    if (error && typeof error === 'object' && 'message' in error && String(error.message).includes('Failed to fetch')) {\n      console.error('üî¥ Network Error: Cannot connect to Supabase');\n      console.error('Please check:');\n      console.error('1. NEXT_PUBLIC_SUPABASE_URL is correct');\n      console.error('2. NEXT_PUBLIC_SUPABASE_ANON_KEY is correct');\n      console.error('3. Supabase project is active');\n      console.error('4. No CORS issues');\n    }\n    return [];\n  }\n}\n\n/**\n * Fetch a single ad space by ID\n */\nexport async function getAdSpaceById(id: string): Promise<AdSpace | null> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('ad_spaces')\n      .select(`\n        *,\n        category:categories(*),\n        location:locations(*),\n        publisher:publishers(*)\n      `)\n      .eq('id', id)\n      .single();\n\n    if (error) {\n      console.error('Error fetching ad space:', error.message || String(error));\n      return null;\n    }\n\n    if (!data) return null;\n\n    return {\n      ...data,\n      images: Array.isArray(data.images) ? data.images : [],\n      dimensions: data.dimensions || {},\n      route: data.route || null,\n    } as AdSpace;\n  } catch (error) {\n    console.error('Error in getAdSpaceById:', error instanceof Error ? error.message : String(error));\n    return null;\n  }\n}\n\n/**\n * Fetch ad spaces by location (city)\n */\nexport async function getAdSpacesByCity(city: string): Promise<AdSpace[]> {\n  return getAdSpaces({ city, availabilityStatus: 'available' });\n}\n\n/**\n * Fetch ad spaces by category\n */\nexport async function getAdSpacesByCategory(categoryId: string): Promise<AdSpace[]> {\n  return getAdSpaces({ categoryId, availabilityStatus: 'available' });\n}\n\n/**\n * Search ad spaces by query\n */\nexport async function searchAdSpaces(query: string): Promise<AdSpace[]> {\n  return getAdSpaces({ searchQuery: query, availabilityStatus: 'available' });\n}\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAmBO,eAAe,YAAY,OAAwB;IACxD,IAAI;QACF,MAAM,WAAW,IAAA,yIAAY;QAE7B,sDAAsD;QACtD,MAAM;QACN,MAAM;QAEN;;QAOA,IAAI,QAAQ,SACT,IAAI,CAAC,aACL,MAAM,CAAC,CAAC;;;;;MAKT,CAAC;QAEH,gBAAgB;QAChB,kEAAkE;QAClE,mDAAmD;QACnD,IAAI,aAAa,SAAS;QAE1B,IAAI,SAAS,YAAY;YACvB,QAAQ,MAAM,EAAE,CAAC,eAAe,QAAQ,UAAU;QACpD;QAEA,IAAI,SAAS,aAAa;YACxB,6CAA6C;YAC7C,IAAI,MAAM,OAAO,CAAC,QAAQ,WAAW,GAAG;gBACtC,QAAQ,MAAM,EAAE,CAAC,gBAAgB,QAAQ,WAAW;YACtD,OAAO;gBACL,QAAQ,MAAM,EAAE,CAAC,gBAAgB,QAAQ,WAAW;YACtD;QACF;QAEA,IAAI,SAAS,aAAa;YACxB,QAAQ,MAAM,EAAE,CAAC,gBAAgB,QAAQ,WAAW;QACtD;QAEA,IAAI,SAAS,aAAa,WAAW;YACnC,QAAQ,MAAM,GAAG,CAAC,iBAAiB,QAAQ,QAAQ;QACrD;QAEA,IAAI,SAAS,aAAa,WAAW;YACnC,QAAQ,MAAM,GAAG,CAAC,iBAAiB,QAAQ,QAAQ;QACrD;QAEA,IAAI,SAAS,gBAAgB,WAAW;YACtC,QAAQ,MAAM,GAAG,CAAC,qBAAqB,QAAQ,WAAW;QAC5D;QAEA,IAAI,SAAS,gBAAgB,WAAW;YACtC,QAAQ,MAAM,GAAG,CAAC,qBAAqB,QAAQ,WAAW;QAC5D;QAEA,IAAI,SAAS,aAAa;YACxB,QAAQ,MAAM,EAAE,CAAC,CAAC,aAAa,EAAE,QAAQ,WAAW,CAAC,qBAAqB,EAAE,QAAQ,WAAW,CAAC,CAAC,CAAC;QACpG;QAEA,IAAI,SAAS,oBAAoB;YAC/B,QAAQ,MAAM,EAAE,CAAC,uBAAuB,QAAQ,kBAAkB;QACpE,OAAO;YACL,4BAA4B;YAC5B,QAAQ,MAAM,EAAE,CAAC,uBAAuB;QAC1C;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE3E,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B;YACzC,QAAQ,KAAK,CAAC,kBAAkB;gBAC9B,SAAS,MAAM,OAAO;gBACtB,SAAS,MAAM,OAAO;gBACtB,MAAM,MAAM,IAAI;gBAChB,MAAM,MAAM,IAAI;YAClB;YACA,MAAM;QACR;QAEA,QAAQ,GAAG,CAAC,8BAA8B,MAAM,UAAU,GAAG;QAC7D,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;YAC3B,QAAQ,GAAG,CAAC,qBAAqB,KAAK,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM;QACjE;QAEA,uCAAuC;QACvC,IAAI,SAAS,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC;YAC7B,gCAAgC;YAChC,IAAI,CAAC,MAAM,QAAQ,EAAE;gBACnB,QAAQ,IAAI,CAAC,iCAAiC,MAAM,EAAE,EAAE,MAAM,KAAK;YACrE;YAEA,uCAAuC;YACvC,IAAI,SAAS,MAAM,MAAM;YACzB,IAAI,OAAO,WAAW,UAAU;gBAC9B,IAAI;oBACF,SAAS,KAAK,KAAK,CAAC;gBACtB,EAAE,OAAO,GAAG;oBACV,QAAQ,IAAI,CAAC,gCAAgC;oBAC7C,SAAS,EAAE;gBACb;YACF;YACA,IAAI,CAAC,MAAM,OAAO,CAAC,SAAS;gBAC1B,SAAS,EAAE;YACb;YAEA,IAAI,aAAa,MAAM,UAAU;YACjC,IAAI,OAAO,eAAe,UAAU;gBAClC,IAAI;oBACF,aAAa,KAAK,KAAK,CAAC;gBAC1B,EAAE,OAAO,GAAG;oBACV,QAAQ,IAAI,CAAC,oCAAoC;oBACjD,aAAa,CAAC;gBAChB;YACF;YACA,IAAI,CAAC,cAAc,OAAO,eAAe,UAAU;gBACjD,aAAa,CAAC;YAChB;YAEA,OAAO;gBACL,GAAG,KAAK;gBACR;gBACA;gBACA,OAAO,MAAM,KAAK,IAAI;YACxB;QACF;QAEA,QAAQ,GAAG,CAAC,0BAA0B,OAAO,MAAM;QAEnD,+DAA+D;QAC/D,IAAI,YAAY;YACd,MAAM,eAAe,OAAO,MAAM;YAClC,SAAS,OAAO,MAAM,CAAC,CAAA;gBACrB,MAAM,UAAU,MAAM,QAAQ,EAAE,SAAS;gBACzC,IAAI,CAAC,WAAW,MAAM,QAAQ,EAAE;oBAC9B,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,MAAM,KAAK,CAAC,EAAE,EAAE,MAAM,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;gBAC1F;gBACA,OAAO;YACT;YACA,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,WAAW,GAAG,EAAE,aAAa,GAAG,EAAE,OAAO,MAAM,CAAC,OAAO,CAAC;QACzF;QAEA,QAAQ,GAAG,CAAC,eAAe,OAAO,MAAM,EAAE;QAC1C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,IAAI,iBAAiB,OAAO;YAC1B,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;YAC7C,QAAQ,KAAK,CAAC,gBAAgB,MAAM,KAAK;QAC3C;QACA,gCAAgC;QAChC,IAAI,SAAS,OAAO,UAAU,YAAY,aAAa,SAAS,OAAO,MAAM,OAAO,EAAE,QAAQ,CAAC,oBAAoB;YACjH,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;QAChB;QACA,OAAO,EAAE;IACX;AACF;AAKO,eAAe,eAAe,EAAU;IAC7C,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,aACL,MAAM,CAAC,CAAC;;;;;MAKT,CAAC,EACA,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,4BAA4B,MAAM,OAAO,IAAI,OAAO;YAClE,OAAO;QACT;QAEA,IAAI,CAAC,MAAM,OAAO;QAElB,OAAO;YACL,GAAG,IAAI;YACP,QAAQ,MAAM,OAAO,CAAC,KAAK,MAAM,IAAI,KAAK,MAAM,GAAG,EAAE;YACrD,YAAY,KAAK,UAAU,IAAI,CAAC;YAChC,OAAO,KAAK,KAAK,IAAI;QACvB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC1F,OAAO;IACT;AACF;AAKO,eAAe,kBAAkB,IAAY;IAClD,OAAO,YAAY;QAAE;QAAM,oBAAoB;IAAY;AAC7D;AAKO,eAAe,sBAAsB,UAAkB;IAC5D,OAAO,YAAY;QAAE;QAAY,oBAAoB;IAAY;AACnE;AAKO,eAAe,eAAe,KAAa;IAChD,OAAO,YAAY;QAAE,aAAa;QAAO,oBAAoB;IAAY;AAC3E"}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/categories.ts"],"sourcesContent":["import { createClient } from '../client';\n\nexport interface Category {\n  id: string;\n  name: string;\n  icon_url?: string;\n  parent_category_id?: string;\n  description?: string;\n  created_at: string;\n}\n\n/**\n * Fetch all categories\n */\nexport async function getCategories(): Promise<Category[]> {\n  const supabase = createClient();\n  \n  // Check if Supabase is configured\n  if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n    console.error('‚ùå Supabase environment variables not configured!');\n    return [];\n  }\n  \n  try {\n    const { data, error } = await supabase\n      .from('categories')\n      .select('*')\n      .order('name', { ascending: true });\n\n    if (error) {\n      console.error('‚ùå Supabase query error:', error);\n      console.error('Error details:', {\n        message: error.message,\n        details: error.details,\n        hint: error.hint,\n        code: error.code\n      });\n      throw error;\n    }\n\n    return (data || []) as Category[];\n  } catch (error) {\n    console.error('‚ùå Error in getCategories:', error);\n    if (error instanceof Error) {\n      console.error('Error message:', error.message);\n    }\n    // Check if it's a network error\n    if (error && typeof error === 'object' && 'message' in error && String(error.message).includes('Failed to fetch')) {\n      console.error('üî¥ Network Error: Cannot connect to Supabase');\n      console.error('Please check your .env.local file has:');\n      console.error('NEXT_PUBLIC_SUPABASE_URL=your-url');\n      console.error('NEXT_PUBLIC_SUPABASE_ANON_KEY=your-key');\n    }\n    return [];\n  }\n}\n\n/**\n * Fetch a single category by ID\n */\nexport async function getCategoryById(id: string): Promise<Category | null> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('categories')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) {\n      console.error('Error fetching category:', error.message || String(error));\n      return null;\n    }\n\n    return data as Category;\n  } catch (error) {\n    console.error('Error in getCategoryById:', error instanceof Error ? error.message : String(error));\n    return null;\n  }\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAcO,eAAe;IACpB,MAAM,WAAW,IAAA,yIAAY;IAE7B,kCAAkC;IAClC;;IAKA,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAK;QAEnC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B;YACzC,QAAQ,KAAK,CAAC,kBAAkB;gBAC9B,SAAS,MAAM,OAAO;gBACtB,SAAS,MAAM,OAAO;gBACtB,MAAM,MAAM,IAAI;gBAChB,MAAM,MAAM,IAAI;YAClB;YACA,MAAM;QACR;QAEA,OAAQ,QAAQ,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,IAAI,iBAAiB,OAAO;YAC1B,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;QAC/C;QACA,gCAAgC;QAChC,IAAI,SAAS,OAAO,UAAU,YAAY,aAAa,SAAS,OAAO,MAAM,OAAO,EAAE,QAAQ,CAAC,oBAAoB;YACjH,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC;QAChB;QACA,OAAO,EAAE;IACX;AACF;AAKO,eAAe,gBAAgB,EAAU;IAC9C,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,4BAA4B,MAAM,OAAO,IAAI,OAAO;YAClE,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC3F,OAAO;IACT;AACF"}},
    {"offset": {"line": 665, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/publishers.ts"],"sourcesContent":["import { createClient } from '../client';\n\nexport interface Publisher {\n  id: string;\n  name: string;\n  description?: string;\n  contact_email?: string;\n  contact_phone?: string;\n  address?: string;\n  verification_status: 'pending' | 'verified' | 'rejected';\n  created_at: string;\n}\n\n/**\n * Fetch all publishers\n */\nexport async function getPublishers(): Promise<Publisher[]> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('publishers')\n      .select('*')\n      .eq('verification_status', 'verified')\n      .order('name', { ascending: true });\n\n    if (error) {\n      console.error('Error fetching publishers:', error.message || String(error));\n      throw error;\n    }\n\n    return (data || []) as Publisher[];\n  } catch (error) {\n    console.error('Error in getPublishers:', error instanceof Error ? error.message : String(error));\n    return [];\n  }\n}\n\n/**\n * Fetch a single publisher by ID\n */\nexport async function getPublisherById(id: string): Promise<Publisher | null> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('publishers')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) {\n      console.error('Error fetching publisher:', error.message || String(error));\n      return null;\n    }\n\n    return data as Publisher;\n  } catch (error) {\n    console.error('Error in getPublisherById:', error instanceof Error ? error.message : String(error));\n    return null;\n  }\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAgBO,eAAe;IACpB,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,uBAAuB,YAC1B,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAK;QAEnC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,8BAA8B,MAAM,OAAO,IAAI,OAAO;YACpE,MAAM;QACR;QAEA,OAAQ,QAAQ,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QACzF,OAAO,EAAE;IACX;AACF;AAKO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,6BAA6B,MAAM,OAAO,IAAI,OAAO;YACnE,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC5F,OAAO;IACT;AACF"}},
    {"offset": {"line": 707, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/locations.ts"],"sourcesContent":["import { createClient } from '../client';\n\nexport interface Location {\n  id: string;\n  city: string;\n  state: string;\n  country: string;\n  address: string;\n  latitude: number;\n  longitude: number;\n  postal_code?: string;\n  created_at: string;\n}\n\n/**\n * Fetch all locations\n */\nexport async function getLocations(): Promise<Location[]> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('locations')\n      .select('*')\n      .order('city', { ascending: true });\n\n    if (error) {\n      console.error('Error fetching locations:', error.message || String(error));\n      throw error;\n    }\n\n    return (data || []) as Location[];\n  } catch (error) {\n    console.error('Error in getLocations:', error instanceof Error ? error.message : String(error));\n    return [];\n  }\n}\n\n/**\n * Fetch locations by city\n */\nexport async function getLocationsByCity(city: string): Promise<Location[]> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('locations')\n      .select('*')\n      .eq('city', city)\n      .order('address', { ascending: true });\n\n    if (error) {\n      console.error('Error fetching locations by city:', error.message || String(error));\n      throw error;\n    }\n\n    return (data || []) as Location[];\n  } catch (error) {\n    console.error('Error in getLocationsByCity:', error instanceof Error ? error.message : String(error));\n    return [];\n  }\n}\n\n/**\n * Get unique cities from locations\n */\nexport async function getCities(): Promise<string[]> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('locations')\n      .select('city')\n      .order('city', { ascending: true });\n\n    if (error) {\n      console.error('Error fetching cities:', error.message || String(error));\n      throw error;\n    }\n\n    // Get unique cities\n    const uniqueCities = Array.from(new Set((data || []).map((loc: any) => loc.city)));\n    return uniqueCities as string[];\n  } catch (error) {\n    console.error('Error in getCities:', error instanceof Error ? error.message : String(error));\n    return [];\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAiBO,eAAe;IACpB,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,aACL,MAAM,CAAC,KACP,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAK;QAEnC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,6BAA6B,MAAM,OAAO,IAAI,OAAO;YACnE,MAAM;QACR;QAEA,OAAQ,QAAQ,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QACxF,OAAO,EAAE;IACX;AACF;AAKO,eAAe,mBAAmB,IAAY;IACnD,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,aACL,MAAM,CAAC,KACP,EAAE,CAAC,QAAQ,MACX,KAAK,CAAC,WAAW;YAAE,WAAW;QAAK;QAEtC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,qCAAqC,MAAM,OAAO,IAAI,OAAO;YAC3E,MAAM;QACR;QAEA,OAAQ,QAAQ,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC9F,OAAO,EAAE;IACX;AACF;AAKO,eAAe;IACpB,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,aACL,MAAM,CAAC,QACP,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAK;QAEnC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,0BAA0B,MAAM,OAAO,IAAI,OAAO;YAChE,MAAM;QACR;QAEA,oBAAoB;QACpB,MAAM,eAAe,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAa,IAAI,IAAI;QAC/E,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QACrF,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/quoteRequests.ts"],"sourcesContent":["import { createClient } from '../client';\n\nexport interface QuoteRequest {\n  id?: string;\n  quote_request_id: string;\n  user_email?: string;\n  items: any;\n  subtotal: number;\n  tax: number;\n  total: number;\n  promo_code?: string;\n  status: 'pending' | 'approved' | 'rejected';\n  admin_notes?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\n/**\n * Create a new quote request\n */\nexport async function createQuoteRequest(quote: QuoteRequest): Promise<QuoteRequest | null> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('quote_requests')\n      .insert(quote)\n      .select()\n      .single();\n\n    if (error) {\n      console.error('Error creating quote request:', error.message || String(error));\n      throw error;\n    }\n\n    return data as QuoteRequest;\n  } catch (error) {\n    console.error('Error in createQuoteRequest:', error instanceof Error ? error.message : String(error));\n    return null;\n  }\n}\n\n/**\n * Get quote request by ID\n */\nexport async function getQuoteRequestById(quoteRequestId: string): Promise<QuoteRequest | null> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('quote_requests')\n      .select('*')\n      .eq('quote_request_id', quoteRequestId)\n      .single();\n\n    if (error) {\n      console.error('Error fetching quote request:', error.message || String(error));\n      return null;\n    }\n\n    return data as QuoteRequest;\n  } catch (error) {\n    console.error('Error in getQuoteRequestById:', error instanceof Error ? error.message : String(error));\n    return null;\n  }\n}\n\n/**\n * Update quote request status\n */\nexport async function updateQuoteRequestStatus(\n  quoteRequestId: string,\n  status: 'pending' | 'approved' | 'rejected',\n  adminNotes?: string\n): Promise<boolean> {\n  const supabase = createClient();\n  \n  try {\n    const updateData: any = { status };\n    if (adminNotes) {\n      updateData.admin_notes = adminNotes;\n    }\n\n    const { error } = await supabase\n      .from('quote_requests')\n      .update(updateData)\n      .eq('quote_request_id', quoteRequestId);\n\n    if (error) {\n      console.error('Error updating quote request:', error.message || String(error));\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error in updateQuoteRequestStatus:', error instanceof Error ? error.message : String(error));\n    return false;\n  }\n}\n\n/**\n * Get all quote requests (for admin)\n */\nexport async function getAllQuoteRequests(status?: string): Promise<QuoteRequest[]> {\n  const supabase = createClient();\n  \n  try {\n    let query = supabase\n      .from('quote_requests')\n      .select('*')\n      .order('created_at', { ascending: false });\n\n    if (status) {\n      query = query.eq('status', status);\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      console.error('Error fetching quote requests:', error.message || String(error));\n      throw error;\n    }\n\n    return (data || []) as QuoteRequest[];\n  } catch (error) {\n    console.error('Error in getAllQuoteRequests:', error instanceof Error ? error.message : String(error));\n    return [];\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAoBO,eAAe,mBAAmB,KAAmB;IAC1D,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,kBACL,MAAM,CAAC,OACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iCAAiC,MAAM,OAAO,IAAI,OAAO;YACvE,MAAM;QACR;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC9F,OAAO;IACT;AACF;AAKO,eAAe,oBAAoB,cAAsB;IAC9D,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,oBAAoB,gBACvB,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iCAAiC,MAAM,OAAO,IAAI,OAAO;YACvE,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC/F,OAAO;IACT;AACF;AAKO,eAAe,yBACpB,cAAsB,EACtB,MAA2C,EAC3C,UAAmB;IAEnB,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,MAAM,aAAkB;YAAE;QAAO;QACjC,IAAI,YAAY;YACd,WAAW,WAAW,GAAG;QAC3B;QAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,kBACL,MAAM,CAAC,YACP,EAAE,CAAC,oBAAoB;QAE1B,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iCAAiC,MAAM,OAAO,IAAI,OAAO;YACvE,MAAM;QACR;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sCAAsC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QACpG,OAAO;IACT;AACF;AAKO,eAAe,oBAAoB,MAAe;IACvD,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAI;QACF,IAAI,QAAQ,SACT,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,QAAQ;YACV,QAAQ,MAAM,EAAE,CAAC,UAAU;QAC7B;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAE9B,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,kCAAkC,MAAM,OAAO,IAAI,OAAO;YACxE,MAAM;QACR;QAEA,OAAQ,QAAQ,EAAE;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC/F,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/cart.ts"],"sourcesContent":["import { createClient } from '../client';\n\nexport interface CartItem {\n  id?: string;\n  user_id: string;\n  ad_space_id: string;\n  start_date: string;\n  end_date: string;\n  quantity: number;\n  subtotal: number;\n  approval_status?: 'pending' | 'approved' | 'rejected' | null;\n  quote_request_id?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\n/**\n * Get cart items for a user\n */\nexport async function getCartItems(userId: string): Promise<CartItem[]> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('cart_items')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      console.error('Error fetching cart items:', error.message || String(error));\n      throw error;\n    }\n\n    return (data || []) as CartItem[];\n  } catch (error) {\n    console.error('Error in getCartItems:', error instanceof Error ? error.message : String(error));\n    return [];\n  }\n}\n\n/**\n * Add item to cart\n */\nexport async function addCartItem(item: CartItem): Promise<CartItem | null> {\n  const supabase = createClient();\n  \n  try {\n    const { data, error } = await supabase\n      .from('cart_items')\n      .insert(item)\n      .select()\n      .single();\n\n    if (error) {\n      console.error('Error adding cart item:', error.message || String(error));\n      throw error;\n    }\n\n    return data as CartItem;\n  } catch (error) {\n    console.error('Error in addCartItem:', error instanceof Error ? error.message : String(error));\n    return null;\n  }\n}\n\n/**\n * Update cart item\n */\nexport async function updateCartItem(id: string, updates: Partial<CartItem>): Promise<boolean> {\n  const supabase = createClient();\n  \n  try {\n    const { error } = await supabase\n      .from('cart_items')\n      .update(updates)\n      .eq('id', id);\n\n    if (error) {\n      console.error('Error updating cart item:', error.message || String(error));\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error in updateCartItem:', error instanceof Error ? error.message : String(error));\n    return false;\n  }\n}\n\n/**\n * Delete cart item\n */\nexport async function deleteCartItem(id: string): Promise<boolean> {\n  const supabase = createClient();\n  \n  try {\n    const { error } = await supabase\n      .from('cart_items')\n      .delete()\n      .eq('id', id);\n\n    if (error) {\n      console.error('Error deleting cart item:', error.message || String(error));\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error in deleteCartItem:', error instanceof Error ? error.message : String(error));\n    return false;\n  }\n}\n\n/**\n * Mark cart items as pending (after quote request)\n */\nexport async function markCartItemsAsPending(\n  userId: string,\n  quoteRequestId: string\n): Promise<boolean> {\n  const supabase = createClient();\n  \n  try {\n    const { error } = await supabase\n      .from('cart_items')\n      .update({\n        approval_status: 'pending',\n        quote_request_id: quoteRequestId\n      })\n      .eq('user_id', userId)\n      .is('approval_status', null);\n\n    if (error) {\n      console.error('Error marking cart items as pending:', error.message || String(error));\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error in markCartItemsAsPending:', error instanceof Error ? error.message : String(error));\n    return false;\n  }\n}\n\n/**\n * Clear cart for a user\n */\nexport async function clearCart(userId: string): Promise<boolean> {\n  const supabase = createClient();\n  \n  try {\n    const { error } = await supabase\n      .from('cart_items')\n      .delete()\n      .eq('user_id', userId)\n      .neq('approval_status', 'pending'); // Don't delete pending items\n\n    if (error) {\n      console.error('Error clearing cart:', error.message || String(error));\n      throw error;\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error in clearCart:', error instanceof Error ? error.message : String(error));\n    return false;\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 964, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/lib/supabase/services/index.ts"],"sourcesContent":["// Centralized Supabase service exports\nexport * from './adSpaces';\nexport * from './categories';\nexport * from './publishers';\nexport * from './locations';\nexport * from './quoteRequests';\nexport * from './cart';\n\n"],"names":[],"mappings":"AAAA,uCAAuC;;AACvC;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/store/useLocationStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ninterface LocationStore {\n  selectedCity: string | null;\n  setSelectedCity: (city: string) => void;\n  clearCity: () => void;\n}\n\nexport const useLocationStore = create<LocationStore>()(\n  persist(\n    (set) => ({\n      selectedCity: null,\n      setSelectedCity: (city: string) => {\n        set({ selectedCity: city });\n      },\n      clearCity: () => {\n        set({ selectedCity: null });\n      },\n    }),\n    {\n      name: 'location-storage', // unique name for localStorage key\n      partialize: (state) => ({ selectedCity: state.selectedCity }), // only persist selectedCity\n    }\n  )\n);\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAQO,MAAM,mBAAmB,IAAA,kJAAM,IACpC,IAAA,wJAAO,EACL,CAAC,MAAQ,CAAC;QACR,cAAc;QACd,iBAAiB,CAAC;YAChB,IAAI;gBAAE,cAAc;YAAK;QAC3B;QACA,WAAW;YACT,IAAI;gBAAE,cAAc;YAAK;QAC3B;IACF,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YAAE,cAAc,MAAM,YAAY;QAAC,CAAC;AAC9D"}},
    {"offset": {"line": 1012, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/store/useCampaignDatesStore.ts"],"sourcesContent":["import { create } from 'zustand';\n\ninterface CampaignDatesStore {\n  startDate: string;\n  endDate: string;\n  setStartDate: (date: string) => void;\n  setEndDate: (date: string) => void;\n  clearDates: () => void;\n  initializeFromStorage: () => void;\n  initializeDefaultDates: () => void;\n}\n\n// Helper function to get default dates\nconst getDefaultDates = () => {\n  if (typeof window === 'undefined') {\n    return { startDate: '', endDate: '' };\n  }\n  \n  const today = new Date();\n  const tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  \n  const formatDate = (date: Date) => {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  \n  return {\n    startDate: formatDate(today),\n    endDate: formatDate(tomorrow),\n  };\n};\n\nexport const useCampaignDatesStore = create<CampaignDatesStore>((set, get) => ({\n  startDate: '',\n  endDate: '',\n  setStartDate: (date) => {\n    set({ startDate: date });\n    if (typeof window !== 'undefined') {\n      if (date) {\n        sessionStorage.setItem('campaignStartDate', date);\n      } else {\n        sessionStorage.removeItem('campaignStartDate');\n      }\n    }\n  },\n  setEndDate: (date) => {\n    set({ endDate: date });\n    if (typeof window !== 'undefined') {\n      if (date) {\n        sessionStorage.setItem('campaignEndDate', date);\n      } else {\n        sessionStorage.removeItem('campaignEndDate');\n      }\n    }\n  },\n  clearDates: () => {\n    set({ startDate: '', endDate: '' });\n    if (typeof window !== 'undefined') {\n      sessionStorage.removeItem('campaignStartDate');\n      sessionStorage.removeItem('campaignEndDate');\n    }\n  },\n  initializeFromStorage: () => {\n    if (typeof window !== 'undefined') {\n      const storedStartDate = sessionStorage.getItem('campaignStartDate');\n      const storedEndDate = sessionStorage.getItem('campaignEndDate');\n      if (storedStartDate || storedEndDate) {\n        set({\n          startDate: storedStartDate || '',\n          endDate: storedEndDate || '',\n        });\n        return true; // Dates were loaded from storage\n      }\n    }\n    return false; // No dates in storage\n  },\n  initializeDefaultDates: () => {\n    const dates = getDefaultDates();\n    set({\n      startDate: dates.startDate,\n      endDate: dates.endDate,\n    });\n    if (typeof window !== 'undefined') {\n      sessionStorage.setItem('campaignStartDate', dates.startDate);\n      sessionStorage.setItem('campaignEndDate', dates.endDate);\n    }\n  },\n}));\n\n// Initialize dates on module load (client-side only)\nif (typeof window !== 'undefined') {\n  const store = useCampaignDatesStore.getState();\n  // Try to load from storage first, if not found, use default dates\n  const loadedFromStorage = store.initializeFromStorage();\n  if (!loadedFromStorage) {\n    store.initializeDefaultDates();\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAYA,uCAAuC;AACvC,MAAM,kBAAkB;IACtB,wCAAmC;QACjC,OAAO;YAAE,WAAW;YAAI,SAAS;QAAG;IACtC;;;IAEA,MAAM;IACN,MAAM;IAGN,MAAM;AAWR;AAEO,MAAM,wBAAwB,IAAA,kJAAM,EAAqB,CAAC,KAAK,MAAQ,CAAC;QAC7E,WAAW;QACX,SAAS;QACT,cAAc,CAAC;YACb,IAAI;gBAAE,WAAW;YAAK;YACtB;;QAOF;QACA,YAAY,CAAC;YACX,IAAI;gBAAE,SAAS;YAAK;YACpB;;QAOF;QACA,YAAY;YACV,IAAI;gBAAE,WAAW;gBAAI,SAAS;YAAG;YACjC;;QAIF;QACA,uBAAuB;YACrB;;YAWA,OAAO,OAAO,sBAAsB;QACtC;QACA,wBAAwB;YACtB,MAAM,QAAQ;YACd,IAAI;gBACF,WAAW,MAAM,SAAS;gBAC1B,SAAS,MAAM,OAAO;YACxB;YACA;;QAIF;IACF,CAAC;AAED,qDAAqD;AACrD"}},
    {"offset": {"line": 1079, "column": 0}, "map": {"version":3,"sources":["file:///Users/srivastand/Desktop/practiseProjects/Elfsod/frontend/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { ArrowRight, Sparkles, SlidersHorizontal } from 'lucide-react';\nimport AdSpaceCard from '@/components/common/AdSpaceCard';\nimport FilterPanel from '@/components/filters/FilterPanel';\nimport { AdSpace } from '@/types';\nimport { getAdSpaces, getCategories } from '@/lib/supabase/services';\nimport { useLocationStore } from '@/store/useLocationStore';\nimport { useCampaignDatesStore } from '@/store/useCampaignDatesStore';\nimport Link from 'next/link';\n\ninterface FilterState {\n  priceRange: { min: number; max: number };\n  footfallRange: { min: number; max: number };\n  sortBy: 'none' | 'price_low' | 'price_high' | 'footfall_low' | 'footfall_high';\n  location?: string;\n  locationCategories?: string[];\n  displayType?: string;\n  publisher?: string;\n  publishers?: string[];\n  purchaseCategories?: string[];\n  audienceTypes?: string[];\n  affluenceTiers?: string[];\n  ageGroups?: string[];\n  weekBias?: string[];\n  spendLevels?: string[];\n}\n\nexport default function HomePage() {\n  const [adSpaces, setAdSpaces] = useState<AdSpace[]>([]);\n  const [filteredAdSpaces, setFilteredAdSpaces] = useState<AdSpace[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showFilters, setShowFilters] = useState(false);\n  const [appliedFilters, setAppliedFilters] = useState<FilterState | null>(null);\n  const selectedCity = useLocationStore((state) => state.selectedCity);\n  const { startDate, endDate } = useCampaignDatesStore();\n\n  useEffect(() => {\n    fetchAdSpaces();\n  }, [selectedCity]); // Refetch when city changes\n\n  // Filter ad spaces when dates or filters change\n  useEffect(() => {\n    if (adSpaces.length > 0) {\n      let filtered = [...adSpaces]; // Start with all ad spaces\n      \n      // City filter is already applied in fetchAdSpaces, so we don't need to filter again\n      \n      // Filter by availability dates if dates are selected\n      // Note: In a real app, you'd check against bookings table\n      // For now, we'll just filter by availability_status\n      if (startDate && endDate) {\n        // Filter spaces that are available\n        filtered = filtered.filter(space => \n          space.availability_status === 'available'\n        );\n      }\n      \n      // Apply additional filters\n      if (appliedFilters) {\n        // Price range filter\n        filtered = filtered.filter(space =>\n          space.price_per_day >= appliedFilters.priceRange.min &&\n          space.price_per_day <= appliedFilters.priceRange.max\n        );\n        \n        // Footfall range filter\n        filtered = filtered.filter(space =>\n          space.daily_impressions >= appliedFilters.footfallRange.min &&\n          space.daily_impressions <= appliedFilters.footfallRange.max\n        );\n        \n        // Location filter (if different from selected city)\n        if (appliedFilters.location && appliedFilters.location !== selectedCity) {\n          filtered = filtered.filter(space =>\n            space.location?.city === appliedFilters.location\n          );\n        }\n        \n        // Display type filter\n        if (appliedFilters.displayType) {\n          filtered = filtered.filter(space =>\n            space.display_type === appliedFilters.displayType\n          );\n        }\n        \n        // Publishers filter\n        if (appliedFilters.publishers && appliedFilters.publishers.length > 0) {\n          filtered = filtered.filter(space =>\n            appliedFilters.publishers!.includes(space.publisher_id)\n          );\n        }\n        \n        // Sort\n        if (appliedFilters.sortBy !== 'none') {\n          filtered = [...filtered].sort((a, b) => {\n            switch (appliedFilters.sortBy) {\n              case 'price_low':\n                return a.price_per_day - b.price_per_day;\n              case 'price_high':\n                return b.price_per_day - a.price_per_day;\n              case 'footfall_low':\n                return a.daily_impressions - b.daily_impressions;\n              case 'footfall_high':\n                return b.daily_impressions - a.daily_impressions;\n              default:\n                return 0;\n            }\n          });\n        }\n      }\n      \n      setFilteredAdSpaces(filtered.length > 0 ? filtered : adSpaces);\n    } else {\n      // If no ad spaces loaded yet, set empty array\n      setFilteredAdSpaces([]);\n    }\n  }, [adSpaces, appliedFilters, startDate, endDate]);\n\n  const fetchAdSpaces = async () => {\n    setLoading(true);\n    try {\n      const filters: any = {\n        availabilityStatus: 'available',\n      };\n\n      if (selectedCity) {\n        filters.city = selectedCity;\n      }\n\n      console.log('üîç Fetching ad spaces with filters:', filters);\n      \n      // Use Next.js API route (server-side, no CORS issues)\n      let spaces: AdSpace[] = [];\n      \n      try {\n        // Use Next.js API route (built into the app)\n        const params = new URLSearchParams();\n        if (filters.city) params.append('city', filters.city);\n        if (filters.categoryId) params.append('categoryId', filters.categoryId);\n        if (filters.publisherId) {\n          const publisherIds = Array.isArray(filters.publisherId) \n            ? filters.publisherId.join(',') \n            : filters.publisherId;\n          params.append('publisherId', publisherIds);\n        }\n        if (filters.displayType) params.append('displayType', filters.displayType);\n        if (filters.minPrice) params.append('minPrice', filters.minPrice.toString());\n        if (filters.maxPrice) params.append('maxPrice', filters.maxPrice.toString());\n        if (filters.minFootfall) params.append('minFootfall', filters.minFootfall.toString());\n        if (filters.maxFootfall) params.append('maxFootfall', filters.maxFootfall.toString());\n        if (filters.searchQuery) params.append('searchQuery', filters.searchQuery);\n        if (filters.availabilityStatus) params.append('availabilityStatus', filters.availabilityStatus);\n        params.append('limit', '100');\n\n        // Try Next.js API route first, fallback to direct service\n        try {\n          const response = await fetch(`/api/ad-spaces?${params.toString()}`);\n          if (response.ok) {\n            const result = await response.json();\n            if (result.success && result.data) {\n              spaces = result.data;\n              console.log('‚úÖ Fetched', spaces.length, 'ad spaces via Next.js API route:', spaces);\n            } else {\n              throw new Error('Next.js API route returned unsuccessful response');\n            }\n          } else {\n            throw new Error(`Next.js API route returned ${response.status}`);\n          }\n        } catch (apiError) {\n          console.warn('‚ö†Ô∏è Next.js API route failed, trying direct service:', apiError);\n          try {\n            // Fallback to direct Supabase service call (browser-side)\n            console.log('üîÑ Attempting browser-side direct connection...');\n            spaces = await getAdSpaces(filters);\n            console.log('‚úÖ Fetched', spaces.length, 'ad spaces via direct service:', spaces);\n          } catch (directError) {\n            console.error('‚ùå All connection methods failed:', directError);\n            console.error('Error details:', {\n              message: directError instanceof Error ? directError.message : String(directError),\n              name: directError instanceof Error ? directError.name : 'Unknown',\n            });\n            \n            // Check if it's a CORS error\n            const errorMessage = directError instanceof Error ? directError.message : String(directError);\n            if (errorMessage.includes('CORS') || errorMessage.includes('cors') || errorMessage.includes('Access-Control')) {\n              console.error('üö´ CORS Error detected! Supabase may be blocking browser requests.');\n              console.error('üí° Solution: Configure CORS in Supabase dashboard or check project status.');\n            }\n            \n            throw directError;\n          }\n        }\n        \n        setAdSpaces(spaces);\n        setFilteredAdSpaces(spaces);\n      } catch (error) {\n        console.error('‚ùå Error fetching ad spaces:', error);\n        setAdSpaces([]);\n        setFilteredAdSpaces([]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [categories, setCategories] = useState<any[]>([]);\n  const [categoriesLoading, setCategoriesLoading] = useState(true);\n\n  // Fetch categories from database - use Next.js API route\n  useEffect(() => {\n    const fetchCategories = async () => {\n      setCategoriesLoading(true);\n      try {\n        let cats = [];\n        \n        try {\n          // Use Next.js API route (built into the app)\n          const response = await fetch('/api/categories');\n          if (response.ok) {\n            const result = await response.json();\n            if (result.success && result.data) {\n              cats = result.data;\n              console.log('‚úÖ Fetched', cats.length, 'categories via API route');\n            } else {\n              throw new Error('API route returned unsuccessful response');\n            }\n          } else {\n            throw new Error(`API route returned ${response.status}`);\n          }\n        } catch (apiError) {\n          console.warn('‚ö†Ô∏è API route failed, trying direct service:', apiError);\n          // Fallback to direct service call\n          try {\n            cats = await getCategories();\n            console.log('‚úÖ Fetched', cats.length, 'categories via direct service');\n          } catch (directError) {\n            console.error('‚ùå Both API route and direct service failed:', directError);\n            cats = [];\n          }\n        }\n\n        // Map category names to emojis\n        const getCategoryEmoji = (name: string): string => {\n          const nameLower = name.toLowerCase();\n          if (nameLower.includes('billboard')) return 'üì¢';\n          if (nameLower.includes('bus')) return 'üöå';\n          if (nameLower.includes('cinema') || nameLower.includes('film')) return 'üé¨';\n          if (nameLower.includes('digital') || nameLower.includes('screen')) return 'üì∫';\n          if (nameLower.includes('pos') || nameLower.includes('point of sale') || nameLower.includes('retail')) return 'üõí';\n          if (nameLower.includes('transit') || nameLower.includes('metro') || nameLower.includes('train')) return 'üöá';\n          if (nameLower.includes('airport')) return '‚úàÔ∏è';\n          if (nameLower.includes('corporate') || nameLower.includes('office')) return 'üè¢';\n          if (nameLower.includes('cafe') || nameLower.includes('restaurant')) return '‚òï';\n          if (nameLower.includes('auto') || nameLower.includes('rickshaw')) return 'üõ∫';\n          if (nameLower.includes('mall')) return 'üè¨';\n          return 'üìç'; // Default emoji\n        };\n\n        setCategories(cats.map((cat: any) => ({\n          id: cat.id,\n          name: cat.name,\n          count: cat.ad_space_count || 0, // Use count from API\n          parent_category_id: cat.parent_category_id || null, // Store parent_category_id to detect parent categories\n          icon: null, // Can be added later\n          emoji: getCategoryEmoji(cat.name), // Emoji fallback\n          icon_url: cat.icon_url, // Store icon_url from database\n          color: 'from-gray-600 to-gray-700',\n          bgColor: 'bg-gray-50'\n        })));\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      } finally {\n        setCategoriesLoading(false);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  // Note: Category counts are now fetched directly from the API\n  // This useEffect is kept for backward compatibility but counts come from API\n  useEffect(() => {\n    // Only update counts from adSpaces if categories don't have counts yet\n    // (fallback for when API doesn't provide counts)\n    if (categories.length > 0 && adSpaces.length > 0) {\n      const categoriesWithoutCounts = categories.filter(cat => cat.count === undefined || cat.count === null);\n      if (categoriesWithoutCounts.length > 0) {\n        setCategories(prevCategories => \n          prevCategories.map(cat => {\n            // Only calculate if count is missing\n            if (cat.count === undefined || cat.count === null) {\n              const count = adSpaces.filter(space => space.category?.id === cat.id).length;\n              return { ...cat, count };\n            }\n            return cat;\n          })\n        );\n      }\n    }\n  }, [adSpaces, categories]);\n\n  // Use categories from database\n  const displayCategories = categories.length > 0 ? categories : [];\n\n  const handleCategoryClick = async (categoryId: string, categoryName?: string) => {\n    setSelectedCategory(categoryId);\n    setLoading(true);\n    \n    try {\n      // Check if this is a parent category (has no parent_category_id)\n      const clickedCategory = categories.find(cat => cat.id === categoryId);\n      const isParentCategory = clickedCategory && (clickedCategory.parent_category_id === null || clickedCategory.parent_category_id === undefined);\n      \n      // Use the filter API to filter ad spaces by category\n      const params = new URLSearchParams();\n      if (categoryName) {\n        // If it's a parent category, use parentCategoryName, otherwise use categoryName\n        if (isParentCategory) {\n          params.append('parentCategoryName', categoryName);\n        } else {\n          params.append('categoryName', categoryName);\n        }\n      } else {\n        params.append('categoryIds', categoryId);\n      }\n      if (selectedCity) {\n        params.append('city', selectedCity);\n      }\n      params.append('availabilityStatus', 'available');\n      params.append('limit', '100');\n\n      const response = await fetch(`/api/ad-spaces/filter?${params.toString()}`);\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success && result.data) {\n          setAdSpaces(result.data);\n          setFilteredAdSpaces(result.data);\n          console.log('‚úÖ Filtered', result.data.length, 'ad spaces by', isParentCategory ? 'parent category' : 'category', ':', categoryName || categoryId);\n        } else {\n          console.warn('‚ö†Ô∏è No ad spaces found for category:', categoryName || categoryId);\n          setAdSpaces([]);\n          setFilteredAdSpaces([]);\n        }\n      } else {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('‚ùå Filter API error:', errorData);\n        setAdSpaces([]);\n        setFilteredAdSpaces([]);\n      }\n    } catch (error) {\n      console.error('Error filtering ad spaces by category:', error);\n      setAdSpaces([]);\n      setFilteredAdSpaces([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-br from-[#E91E63] via-[#F50057] to-[#E91E63] text-white\">\n        <div className=\"container-app px-6 py-16\">\n          <div className=\"max-w-3xl\">\n            <div className=\"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-6\">\n              <Sparkles className=\"w-4 h-4\" />\n              <span className=\"text-sm font-medium\">AI-Powered Campaign Planning</span>\n            </div>\n            <h1 className=\"text-5xl font-bold mb-4 leading-tight\">\n              Find Perfect Ad Spaces for Your Campaign\n          </h1>\n            <p className=\"text-xl text-white/90 mb-8\">\n              Discover, plan, and book advertising inventory across India with our intelligent platform\n            </p>\n            <div className=\"flex gap-4\">\n              <Link \n                href=\"/search\"\n                className=\"bg-white text-[#E91E63] px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-colors inline-flex items-center gap-2\"\n              >\n                Explore Ad Spaces\n                <ArrowRight className=\"w-5 h-5\" />\n              </Link>\n              <Link \n                href=\"/ai-planner\"\n                className=\"bg-white/10 backdrop-blur-sm border border-white/30 text-white px-6 py-3 rounded-lg font-semibold hover:bg-white/20 transition-colors\"\n              >\n                Try AI Planner\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Stats Bar */}\n      <div className=\"border-b border-gray-200 bg-white\">\n        <div className=\"container-app px-6 py-6\">\n          <div className=\"grid grid-cols-4 gap-6\">\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold text-gray-900\">500+</div>\n              <div className=\"text-sm text-gray-600\">Ad Spaces</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold text-gray-900\">50+</div>\n              <div className=\"text-sm text-gray-600\">Cities</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold text-gray-900\">1M+</div>\n              <div className=\"text-sm text-gray-600\">Daily Impressions</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-3xl font-bold text-gray-900\">98%</div>\n              <div className=\"text-sm text-gray-600\">Satisfaction</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"container-app px-6 py-8\">\n        {/* Categories Grid - Always Show */}\n        <section className=\"mb-12\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">Browse by Category</h2>\n              <p className=\"text-gray-600\">Choose the type of advertising space you need</p>\n            </div>\n          </div>\n          \n          {categoriesLoading ? (\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4\">\n              {[1, 2, 3, 4, 5, 6].map((i) => (\n                <div key={i} className=\"bg-gray-50 p-6 rounded-2xl border-2 border-transparent animate-pulse\">\n                  <div className=\"w-16 h-16 bg-gray-200 rounded-xl mb-4 mx-auto\"></div>\n                  <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-2/3 mx-auto\"></div>\n                </div>\n              ))}\n            </div>\n          ) : displayCategories.length > 0 ? (\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4\">\n              {displayCategories.map((category) => (\n                <button\n                  key={category.id}\n                  onClick={() => handleCategoryClick(category.id, category.name)}\n                  className={`${category.bgColor} p-6 rounded-2xl border-2 transition-all group relative overflow-hidden ${\n                    selectedCategory === category.id \n                      ? 'border-[#E91E63] shadow-lg scale-[1.02]' \n                      : 'border-transparent hover:border-gray-200 hover:shadow-md'\n                  }`}\n                >\n                  {selectedCategory === category.id && (\n                    <div className=\"absolute inset-0 bg-[#E91E63]/5\" />\n                  )}\n                  <div className=\"relative\">\n                    <div className={`w-16 h-16 bg-gradient-to-br ${category.color} rounded-xl flex items-center justify-center text-white mb-4 mx-auto group-hover:scale-110 transition-transform shadow-md p-3`}>\n                      {category.icon_url ? (\n                        <img \n                          src={category.icon_url} \n                          alt={category.name}\n                          className=\"w-8 h-8 object-contain\"\n                          onError={(e) => {\n                            // Fallback to emoji if image fails to load\n                            e.currentTarget.style.display = 'none';\n                            const emojiSpan = e.currentTarget.parentElement?.querySelector('.category-emoji');\n                            if (emojiSpan) emojiSpan.classList.remove('hidden');\n                          }}\n                        />\n                      ) : null}\n                      <span className={`text-3xl category-emoji ${category.icon_url ? 'hidden' : ''}`}>\n                        {category.emoji || 'üìç'}\n                      </span>\n                    </div>\n                    <h3 className=\"font-semibold text-gray-900 mb-1 text-sm text-center\">{category.name}</h3>\n                    <p className=\"text-xs text-gray-600 text-center\">{category.count} spaces</p>\n                    {selectedCategory === category.id && (\n                      <div className=\"mt-2 text-xs text-[#E91E63] font-medium text-center\">\n                        ‚úì Selected\n                      </div>\n                    )}\n                  </div>\n                </button>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300\">\n              <p className=\"text-gray-600 mb-2\">No categories available</p>\n              <p className=\"text-sm text-gray-500\">Categories will appear here once they are added to the database.</p>\n            </div>\n          )}\n        </section>\n\n        {/* Featured Banner */}\n        <section className=\"mb-12\">\n          <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white relative overflow-hidden\">\n            <div className=\"relative z-10 max-w-2xl\">\n              <div className=\"inline-block bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-medium mb-4\">\n                Limited Time Offer\n              </div>\n              <h2 className=\"text-3xl font-bold mb-3\">Get 20% Off Your First Campaign</h2>\n              <p className=\"text-lg text-white/90 mb-6\">\n                Book your ad spaces now and save big on your first campaign with our platform\n              </p>\n              <button className=\"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-colors\">\n                Claim Offer\n              </button>\n            </div>\n            <div className=\"absolute right-0 top-0 bottom-0 w-1/3 bg-gradient-to-l from-white/10 to-transparent\" />\n          </div>\n        </section>\n\n        {/* All Ad Spaces - Single List */}\n        <section>\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">Available Ad Spaces</h2>\n              <p className=\"text-gray-600\">Explore our complete inventory across India</p>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={() => setShowFilters(true)}\n                className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-[#E91E63] hover:text-[#E91E63] transition-colors\"\n              >\n                <SlidersHorizontal className=\"w-4 h-4\" />\n                Filters\n                {appliedFilters && (() => {\n                  let count = 0;\n                  if (appliedFilters.priceRange.min !== 0 || appliedFilters.priceRange.max !== 100000) count++;\n                  if (appliedFilters.footfallRange.min !== 0 || appliedFilters.footfallRange.max !== 1000000) count++;\n                  if (appliedFilters.sortBy !== 'none') count++;\n                  if (appliedFilters.location) count++;\n                  if (appliedFilters.locationCategories && appliedFilters.locationCategories.length > 0) count++;\n                  if (appliedFilters.displayType) count++;\n                  if (appliedFilters.publishers && appliedFilters.publishers.length > 0) count++;\n                  if (appliedFilters.purchaseCategories && appliedFilters.purchaseCategories.length > 0) count++;\n                  if (appliedFilters.audienceTypes && appliedFilters.audienceTypes.length > 0) count++;\n                  if (appliedFilters.affluenceTiers && appliedFilters.affluenceTiers.length > 0) count++;\n                  if (appliedFilters.ageGroups && appliedFilters.ageGroups.length > 0) count++;\n                  if (appliedFilters.weekBias && appliedFilters.weekBias.length > 0) count++;\n                  if (appliedFilters.spendLevels && appliedFilters.spendLevels.length > 0) count++;\n                  return count > 0 ? (\n                    <span className=\"bg-[#E91E63] text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full\">\n                      {count}\n                    </span>\n                  ) : null;\n                })()}\n              </button>\n              <Link \n                href=\"/search\" \n                className=\"text-[#E91E63] font-medium hover:text-[#F50057] inline-flex items-center gap-1\"\n              >\n                View on map\n                <ArrowRight className=\"w-4 h-4\" />\n              </Link>\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"grid grid-cols-4 gap-6\">\n              {[1, 2, 3, 4, 5, 6, 7, 8].map((i) => (\n                <div key={i} className=\"bg-white rounded-xl h-80 animate-pulse card-shadow\" />\n              ))}\n            </div>\n          ) : filteredAdSpaces.length === 0 ? (\n            <div className=\"col-span-4 text-center py-12\">\n              <p className=\"text-gray-500 mb-2\">\n                {loading \n                  ? 'Loading ad spaces...'\n                  : selectedCity \n                    ? `No ad spaces found in ${selectedCity}` \n                    : adSpaces.length === 0\n                      ? 'No ad spaces available. Please check your database connection.'\n                      : 'No ad spaces match your filters'}\n              </p>\n              <p className=\"text-sm text-gray-400\">\n                {loading \n                  ? 'Please wait...'\n                  : selectedCity \n                    ? 'Try selecting a different city or clearing filters' \n                    : adSpaces.length === 0\n                      ? 'Make sure you have run the seed_data.sql file in Supabase'\n                      : 'Try adjusting your filters or selecting a location'}\n              </p>\n              {!loading && adSpaces.length === 0 && (\n                <div className=\"mt-4 text-xs text-gray-500\">\n                  <p>Debug: Check browser console for errors</p>\n                  <p>Total ad spaces in state: {adSpaces.length}</p>\n                  <p>Filtered ad spaces: {filteredAdSpaces.length}</p>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-4 gap-6\">\n              {filteredAdSpaces.map((space) => (\n                <AdSpaceCard key={space.id} adSpace={space} />\n              ))}\n            </div>\n          )}\n          \n          {/* Location info */}\n          {!loading && filteredAdSpaces.length > 0 && (\n            <div className=\"mt-4 text-center text-sm text-gray-500\">\n              {selectedCity \n                ? `Showing ${filteredAdSpaces.length} ad spaces in ${selectedCity}`\n                : `Showing ${filteredAdSpaces.length} ad spaces (select location to filter)`}\n            </div>\n          )}\n        </section>\n      </div>\n\n      {/* Filter Panel */}\n      <FilterPanel\n        isOpen={showFilters}\n        onClose={() => setShowFilters(false)}\n        onApply={(filters) => {\n          setAppliedFilters(filters);\n          setShowFilters(false);\n        }}\n        initialFilters={appliedFilters || undefined}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}